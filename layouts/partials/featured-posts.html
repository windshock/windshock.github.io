{{/* í˜„ì¬ ì–¸ì–´ */}}
{{ warnf "ğŸ§ª [DEBUG] featured-posts.html ì‹¤í–‰ ì‹œì‘" }}
{{ $lang := .Site.Language.Lang }}
{{ warnf "ğŸ“¦ .Kind: %s" .Kind }}
{{ warnf "ğŸ“ .IsHome: %v | .IsPage: %v | .IsNode: %v" .IsHome .IsPage .IsNode }}

{{ with .Site.Language }}
  {{ warnf "ğŸ§¾ Language: %s" .Lang }}
{{ else }}
  {{ warnf "âŒ .Site.Language is nil" }}
{{ end }}

{{ if .featured }}
  {{ warnf "âœ… .featured ìˆìŒ - ê¸¸ì´: %d" (len .featured) }}
  {{ warnf "ğŸ§ª DEBUG: .Site.Language = %#v" .Site.Language }}
{{ else }}
  {{ warnf "âŒ .featured ì—†ìŒ (ë¹„ì–´ ìˆìŒ ë˜ëŠ” nil)" }}
{{ end }}

{{/* featured == true ì´ê³  ì–¸ì–´ê°€ í˜„ì¬ ì–¸ì–´ì™€ ê°™ì€ ê¸€ë§Œ í•„í„°ë§ */}}
{{ $featured := where (where site.RegularPages "Params.featured" true) "Lang" $lang }}

{{ if gt (len $featured) 0 }}
<section class="py-6 max-w-6xl mx-auto">
  <h2 class="text-xl font-semibold mb-4">
    ğŸ”¥ {{ if eq $lang "ko" }}ì¶”ì²œ ê¸€{{ else }}Featured Posts{{ end }}
  </h2>

  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      {{ range $featured }}
      {{ warnf "ğŸ“„ Featured: %s | URL: %s" .Title .RelPermalink }}
      {{ warnf "ğŸ§¾ Rendering: %s (%s)" .Title .Lang }}
      <div class="swiper-slide">
        <a href="{{ .RelPermalink }}"
           class="block bg-white dark:bg-neutral-800 rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300">
          <img src="{{ .Params.image | default "/images/default-thumbnail.webp" }}"
               alt="{{ .Title }}"
               class="w-full h-48 object-cover"
               onerror="this.onerror=null;this.src='/images/default-thumbnail.webp';" />
          <div class="p-4">
            <h3 class="text-base font-semibold text-gray-800 dark:text-white mb-1 truncate">
              {{ .Title }}
            </h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2">
              {{ or .Params.description .Params.summary .Summary }}
            </p>
          </div>
        </a>
      </div>
      {{ end }}
    </div>
    <div class="swiper-pagination mt-2"></div>
  </div>
</section>
{{ end }}

